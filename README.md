# binance_bot_3
EMA, MACD, ma angles 로 승률 높은 로직 구현 시도

> https://youtu.be/jYU_or14VTk?si=pbge8aL0YZIw3i6q

## 포지션 진입 관련
- 포지션별 진입가격 점진적 상승해서, 1월 말까지 승률 확인 필요(최대 $50 까지 확인예정)
- 24.12.31 커밋기준 '크로스 발생 시점의 SMA, ma angles 지표 방향 확인' 로직 추가. 거래량 1일 1~2개 미만 + 승률 70% 이하라면 24.12.30커밋으로 롤백 예정
- 유효한 크로스 발생 시, 이전 25분간 다른 크로스 5분봉 기준으로 검증 로직 추가(진입 시그널 감지 로직과 별도로 존재)

## 적용 가능한 환경


- 거래소: 바이낸스
- 타임프레임: 1분봉 또는 5분봉(5분봉 기준. 1분봉 사용은 크로스 확인 시점에서만 사용)
- 거래 자산: 암호화폐, 선물, 주식


## 기본 추세 판단 (매매 방향 결정)


- 200일 이동평균선을 기준으로 판단
- 현재 캔들이 200일선 위 → 상승추세 → 롱 포지션만 고려
- 현재 캔들이 200일선 아래 → 하락추세 → 숏 포지션만 고려


## 매매 진입 시그널 조건 (롱 포지션 기준)
필수 조건:


- 현재 가격이 200일 이동평균선 위에 있음
- 12 EMA가 26 EMA를 위로 돌파(골든크로스)
- MACD선(파란선)이 시그널선(빨간선)을 위로 돌파
- Mangles JD 지표가 녹색

시간 조건:

- EMA 크로스와 MACD 크로스는 5캔들 이내에 발생해야 함
- 첫 번째 크로스 발생을 기준으로 전후 5캔들 이내에 두 번째 크로스가 발생해야 함
- 크로스의 순서는 상관없음
  - 예) 5분봉에서 15:05에 첫 크로스 발생 → 14:40~15:30 사이에 두 번째 크로스가 있어야 함


## 매매 진입 시그널 조건 (숏 포지션 기준)
필수 조건:


- 현재 가격이 200일 이동평균선 아래에 있음
- 12 EMA가 26 EMA를 아래로 돌파(데드크로스)
- MACD선이 시그널선을 아래로 돌파
- Mangles JD 지표가 빨간색

## 시간 조건:

- 롱 포지션과 동일한 5캔들 규칙 적용


## 실제 진입 시점


- 모든 조건이 충족된 캔들의 종가에 진입


## 손절가 설정


- EMA 크로스와 MACD 크로스 중 먼저 발생한 크로스의 캔들 기준
- 롱 포지션: 해당 캔들의 저가(low)를 손절가로 설정
- 숏 포지션: 해당 캔들의 고가(high)를 손절가로 설정


## 목표가 설정


- 손절폭의 2배를 목표가로 설정
- 예시) 숏 포지션
  - 진입가: 27617.5
  - 손절가: 27644.5 (손절폭: 27포인트)
  - 목표가: 진입가 - (27포인트 × 2) = 27563.5


## 포지션 관리


목표가 도달 시 전량 청산 (단기 매매 전략)


## 지표 설정
MACD:


- Fast Length: 12
- Slow Length: 26
- Signal Smoothing: 9
- Source: Close
- MA Type: EMA

Mangles JD:

- Source: Closed
- Threshold: 4
- Jma slope, Ma83 slope, Ma278 slope 활성화
