# binance_bot_3
EMA, MACD, ma angles 로 승률 높은 로직 구현 시도

> https://youtu.be/jYU_or14VTk?si=pbge8aL0YZIw3i6q

## 기본 설정과 안전장치:


- 5분봉 기준으로 거래
- 레버리지 10배
- 포지션당 10 USDT 증거금 사용
- 일일 최대 손실 제한 (순수 증거금 기준)
- 손절 발생 시 해당 심볼의 같은 방향 포지션 30분간 재진입 제한


## 진입 조건 (모든 조건 충족 필요):


SMA 200 기준 추세 판단

- 가격이 SMA 200 위 = 롱 포지션만 가능
- 가격이 SMA 200 아래 = 숏 포지션만 가능


MA angles JD 색상

- 롱: 녹색
- 숏: 빨간색


EMA(12,26) 크로스와 MACD 크로스가 25분 이내 발생

- 두 크로스 모두 발생 시점의 SMA200, MA Color 조건 충족 필요




## 거래 실행 과정:

진입:
- 크로스 발생 캔들의 종가로 진입
- 포지션 크기 = 증거금 * 레버리지 / 진입가격

b. 손절가(SL) 설정:
- 먼저 발생한 크로스 기준 이전 5분간의 고가/저가
- 최소 진입가의 0.3% 이상 차이 필요

c. 목표가(TP) 설정:
- 손절 거리의 2.25배

d. 트레일링 스탑:
- 1.8% 이상 수익 시 활성화
- 롱: 진입가의 1.015배로 이동
- 숏: 진입가의 0.985배로 이동

## 모니터링과 기록:


- trading.log: 일반적인 거래 실행 로그
- signals.log: 지표 및 크로스 발생 로그
- executions.log: 주문 실행 관련 로그
- profits.log: 일별 순수 손익 기록


## 안전장치 상세:

진입 제한:
- 포지션 있는 심볼 재진입 불가
- SL 발생 후 30분간 같은 방향 재진입 불가
- SL과 진입가 사이 최소 거리 필요

b. 손실 제한:
- 일일 최대 손실 도달 시 봇 종료
- 순수 증거금 기준으로 손실 계산

c. 청산 시:
- 남은 미체결 주문 자동 취소
- 모든 주문 상태 추적

## 특이사항:


- 여러 심볼 동시 모니터링
- 한 심볼당 한 포지션만 보유
- 모든 지표는 실시간 계산
- 모든 거래는 선물 마켓에서 실행
- 증거금은 USDT 기준


## 지표 설정
MACD:


- Fast Length: 12
- Slow Length: 26
- Signal Smoothing: 9
- Source: Close
- MA Type: EMA

Mangles JD:

- Source: Closed
- Threshold: 4
- Jma slope, Ma83 slope, Ma278 slope 활성화
